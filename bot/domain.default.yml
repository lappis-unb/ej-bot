version: "2.0"
config:
  store_entities_as_slots: true
session_config:
  session_expiration_time: 5
  carry_over_slots_to_new_session: true
intents:
  - agree:
      use_entities: true
  - disagree:
      use_entities: true
  - pass:
      use_entities: true
  - start:
      use_entities: true
  - phone_number:
      use_entities: true
  - invalid_phone_number:
      use_entities: true
  - out_of_context:
      use_entities: true
  - stop:
      use_entities: true
  - welcome:
      use_entities: true
  - start_group_interaction:
      use_entities: true
  - url:
      use_entities: true
  - help:
      use_entities: true
  - start_with_conversation_id:
      use_entities: true
  - participate_on_telegram:
      use_entities: true
  - display_conversations:
      use_entities: true
entities:
  - url
  - current_channel_info
  - conversation_id
  - regex_phone_number
slots:
  comment_text:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: true
    influence_conversation: false
  telegram_engagement_group:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: true
    influence_conversation: false
  ej_user_token:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: true
    influence_conversation: false
  regex_phone_number:
    type: rasa.shared.core.slots.FloatSlot
    initial_value: null
    auto_fill: true
    influence_conversation: true
  conversation_id:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: true
    influence_conversation: true
  conversation_text:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: false
    influence_conversation: false
  current_comment_id:
    type: rasa.shared.core.slots.FloatSlot
    initial_value: null
    auto_fill: true
    influence_conversation: false
    max_value: 1.0
    min_value: 0.0
  number_comments:
    type: rasa.shared.core.slots.FloatSlot
    initial_value: null
    auto_fill: true
    influence_conversation: false
    max_value: 1.0
    min_value: 0.0
  number_voted_comments:
    type: rasa.shared.core.slots.FloatSlot
    initial_value: null
    auto_fill: true
    influence_conversation: false
    max_value: 1.0
    min_value: 0.0
  vote:
    type: rasa.shared.core.slots.CategoricalSlot
    initial_value: null
    auto_fill: true
    influence_conversation: false
    values:
      - concordar
      - discordar
      - pular
      - parar
      - novo link de participa√ß√£o
      - pausar para pedir telefone
      - pausar para engajar
  current_channel_info:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: true
    influence_conversation: true
  url:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: true
    influence_conversation: false
  bot_telegram_username:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: false
    influence_conversation: false
  bot_whatsapp_number:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: false
    influence_conversation: false  
responses:
  utter_welcome:
    - text: Ol√°, Muito prazer, eu sou a Duda!
    - channel: twilio
      text: >
        Ol√°, muito prazer, eu sou a Duda! Eu sou a assistente virtual da plataforma EJ.
        A Empurrando Juntos, ou Platforma Ej, √© uma plataforma de consultas de opini√£o com foco em Estado e Organiza√ß√µes. Os seguintes comandos est√£o dispon√≠veis:

        *listarconversas*: Lista as conversas p√∫blicas na EJ. Utilize esse comando para saber qual identificador utilizar na hora de gerar o link de participa√ß√£o com o comando selecionarconversa.

        *selecionarconversa* [id]: Utilize esse comando para gerarmos uma nova coleta. [id] √© o identificador da conversa na EJ;

        *participar*: Utilize esse comando para participar de uma coleta pr√©-selecionada.

        *help*: Menu de ajuda;
    - channel: telegram
      text: >
        Ol√°, muito prazer, eu sou a Duda! Eu sou a assistente virtual da plataforma EJ.
        A Empurrando Juntos, ou Platforma Ej, √© uma plataforma de consultas de opini√£o com foco em Estado e Organiza√ß√µes. Os seguintes comandos est√£o dispon√≠veis:

        /listarconversas - Lista as conversas p√∫blicas na EJ. Utilize esse comando para saber qual identificador utilizar na hora de gerar o link de participa√ß√£o com o comando /selecionarconversa.

        /selecionarconversa [id]: Utilize esse comando para gerarmos uma nova coleta. [id] √© o identificador da conversa na EJ;

        /participar: Utilize esse comando para participar de uma coleta pr√©-selecionada.

        /help: Menu de ajuda;
  utter_introduce_ej:
    - text: >
        Eu sou a assistente virtual da plataforma EJ. 
        A Empurrando Juntos, ou Platforma Ej, √© uma plataforma de consultas de opini√£o com foco em Estado e Organiza√ß√µes.
  utter_explain_how_to_participate:
    - text: Voc√™ pode participar de uma de nossas consultas pelo nosso site, site de parceiros ou at√© por aqui! Me manda um "oi" se quiser participar üòâ
  utter_show_topic_of_discussion:
    - text: >
        Oie, eu sou a Duda, a assistente virtual da plataforma EJ.
        Eu gosto muito de ouvir o que as pessoas pensam sobre alguns assuntos.
        No momento, eu queria muito saber a sua opini√£o sobre o seguinte tema:

        {conversation_text}.

        As suas opini√µes estar√£o protegidas comigo conforme os termos de uso da EJ. Clique no link para ler.

        https://www.ejparticipe.org/usage/

  utter_invite_user_to_participate:
    - text: Topa um bate-papo comigo?
  utter_agreed_participation:
    - text: Ah maravilha üòÑ
    - text: Eu agrade√ßo muito!
  utter_disagreed_participation:
    - text: Poooxa ‚òπÔ∏è
    - text: Ah que pena ‚òπÔ∏è
  utter_stop_conversation:
    - text: Se voc√™ n√£o quiser mais conversar comigo ou quiser terminar a conversa √© so me falar! (√© s√≥ escrever PARAR)
  utter_ask_phone_number:
    - text: Voc√™ poderia me passar seu telefone com DDD?
  utter_ask_phone_number_again:
    - text: >
        Fico feliz que voc√™ esteja engajado na nossa conversa üòä. 
        Gostaria de pedir o seu n√∫mero de telefone, assim conseguiremos mais for√ßa no combate √† desinforma√ß√£o.
        Caso queira me passar seu telefone, basta digitar, caso n√£o queira, basta dizer n√£o, que continuamos nossa conversa sem que voc√™ seja identificado.
  utter_explain_ask_phone_number:
    - text: Eu juro que n√£o vou mandar spam. √â s√≥ uma forma de eu poder ligar voc√™ a sua opini√£o
  utter_phone_number_is_optional:
    - text: Ah e se voc√™ n√£o quiser n√£o tem problema, basta dizer n√£o, eu mantenho a sua identidade secreta ü§´
  utter_send_phone_number:
    - text: J√° pode digitar seu telefone com DDD aqui
  utter_invalid_phone_number:
    - text: Hmmm acho que voc√™ escreveu alguma coisa errada üòï
  utter_got_phone_number:
    - text: J√° anotei aqui o seu telefone, obrigada üòâ
  utter_user_want_anonymous:
    - text: Beleza, vamos prosseguir!
  utter_vote_received:
    - text: Anotado!
    - text: Anotei aqui.
    - text: Entendo, registrado.
  utter_out_of_context:
    - text: Desculpe, n√£o sei se entendi üòï
  utter_sent_comment:
    - text: Certo, j√° anotei seu coment√°rio, muito obrigada pela sua contribui√ß√£o!!
  utter_send_comment_error:
    - text: >
        Hmmm n√£o sei o que aconteceu. 
        Eu n√£o consegui salvar seu coment√°rio
  utter_ask_send_comment_again:
    - text: Faz assim, tenta me mandar ele novamente mais tarde, pode ser?!
  utter_voted_all_comments:
    - text: Nossa üòÆüòÆüòÆ Voc√™ j√° opinou sobre todos os coment√°rios que eu tinha aqui!
  utter_thanks_participation:
    - text: Eu fico muito feliz por voc√™ ter participado ü§ó!
    - text: Muito obrigada pela sua participa√ß√£o ü§óü§óü§ó
  utter_stopped:
    - text: S√≥ de voc√™ ter me respondido ja me ajudou, muito obrigada!
  utter_stopped_after_disagreed:
    - text: Mas s√≥ de voc√™ ter me respondido j√° me ajudou. Muito obrigada! üòò
  utter_next_conversation:
    - text: Depois conversamos mais üòò
  utter_finish:
    - text: Ah quando quiser trocar uma ideia √© s√≥ me mandar um "Oi".
  utter_goodbye:
    - text: Pode deixar que te mantenho por dentro sobre as novidades sobre esse assunto
  utter_ej_communication_error:
    - text: Opa, parece que n√£o estou conseguindo acessar nosso servidor.
  utter_error_try_again_later:
    - text: Tive um problema t√©cnico, por favor tente participar mais tarde.
  utter_ej_connection_doesnt_exist:
    - text: Esse site ainda n√£o est√° conectado com a EJ. Entre em contato com os administradores dele.
  utter_help:
    - text: Esse texto de ajuda deve ser atualizado para outros contextos al√©m do telegram.
    - channel: twilio
      text: >
        A lista de comandos dispon√≠veis atualmente √©: 

        *listarconversas* - Lista as conversas dispon√≠veis dispon√≠veis na EJ. Utilize esse comando para saber qual identificador utilizar na hora de gerar o link de participa√ß√£o com o comando selecionarconversa.

        *selecionarconversa* [id] - Escolha a conversa da EJ para gerarmos uma nova coleta;

        *participar* - Participe de uma coleta pr√©-selecionada.
    - channel: telegram
      text: >
        A lista de comandos dispon√≠veis atualmente √©: 

        /listarconversas - Lista as conversas dispon√≠veis dispon√≠veis na EJ. Utilize esse comando para saber qual identificador utilizar na hora de gerar o link de participa√ß√£o com o comando /selecionarconversa.

        /selecionarconversa [id] - Escolha a conversa da EJ para gerarmos uma nova coleta;

        /participar - Participe de uma coleta pr√©-selecionada.
  utter_show_conversations:
    - text: >
        Essa √© a lista das conversas dispon√≠veis para coleta. Basta escolher o assunto e verificar qual √© o seu ID.
  utter_explain_id_conversation:
    - text: >
        Voc√™ pode precisar do ID para selecionar uma conversa depois üòâ
  utter_no_conversations:
    - text: >
        N√£o existem conversas dispon√≠veis no momento, entre em contato com o time da EJ para mais informa√ß√µes.
  utter_explain_no_button_participation:
    - text: > 
        Para come√ßar, basta ler os coment√°rios e logo depois:

        - Digite 1 para concordar

        - Digite -1 para discordar

        - Ou digite 0 para pular um coment√°rio
  utter_explain_button_participation:
    - text: >
        Clique nos bot√µes a seguir para concordar, discordar ou pular coment√°rios üòä

  utter_send_generated_url:
    - text: N√£o foi poss√≠vel encontrar o canal
    - channel: twilio
      text: >
        Eu sou a assistente virtual da plataforma EJ. A Empurrando Juntos, ou Platforma EJ, √© uma plataforma de consultas de opini√£o com foco em Estado e Organiza√ß√µes. Gostar√≠amos da sua participa√ß√£o na seguinte discuss√£o: 


        {conversation_text}.


        Para participar basta clicar no link https://api.whatsapp.com/send?phone={bot_whatsapp_number}&text=start+{conversation_id}
    - channel: telegram
      text: >
        Eu sou a assistente virtual da plataforma EJ. A Empurrando Juntos, ou Platforma EJ, √© uma plataforma de consultas de opini√£o com foco em Estado e Organiza√ß√µes. Gostar√≠amos da sua participa√ß√£o na seguinte discuss√£o: 

        {conversation_text}.

        Para participar basta clicar no link t.me/{bot_telegram_username}?start={conversation_id}.
  utter_no_selected_conversation:
    - text: Nenhuma conversa foi selecionada. Voc√™ deve utilizar o comando de sele√ß√£o de conversa ou participar de alguma que algu√©m j√° criou.

  utter_invite_user_to_join_group:
    - text: >
        Pausa r√°pida para um convite: Estou gostando bastante de te ouvir, e gostaria de saber se voc√™ tem interesse de fazer parte da nossa comunidade. L√° publicamos conte√∫dos personalizados sobre os assuntos que estamos conversando, e voc√™ poder√° interagir com outras pessoas. Para aceitar o convite basta clicar no link, e voc√™ ser√° direcionado para o nosso grupo no Telegram:

        {telegram_engagement_group}

        Voltando a nossa conversa.
  utter_advise_participant_to_join_again:
    - text: >
        N√£o consegui salvar o seu voto. Clique no link de participa√ß√£o novamente, para retomarmos nossa conversa.

actions:
  - action_ask_vote
  - action_follow_up_form
  - validate_vote_form
  - action_setup_conversation
  - action_get_conversation_info
  - action_set_channel_info
  - action_set_conversation_slots
  - action_get_conversations

forms:
  vote_form:
    vote:
      - type: from_text
e2e_actions: []
